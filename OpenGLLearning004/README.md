# 坐标系统
Learning OpenGL On the MAC 

    OpenGL希望所有顶点着色器运行后，说要可见的顶点都变成标准化设备坐标，也就是每个顶点的X，y，z都应该在-1.0和1.0之间，超出这个范围的都不可见。我们一边自己设定一个左边范围，然后在顶点着色器中将这些左边转换标准化设备坐标。然后将这些标准化设备坐标传入光栅器，再将他们转换为屏幕上的二位坐标或像素。
    
    对我们来说比较重要的总共有5个不同的坐标系统：
    
        1.1局部空间(Local Space，或者称为物体空间(Object Space))
        
            是对象相对于局部原点的坐标；也是对象开始的坐标
            
        1.2世界空间(World Space)
        
            将局部坐标转换为世界坐标，世界坐标是作为一个更大空间范围的坐标系统。这些坐标是相对于世界的原点的
            
        1.3观察空间(View Space，或者称为视觉空间(Eye Space))
        
            接下来我们将世界坐标转换为观察坐标，观察坐标是指以摄像机或观察者的角度观察的坐标。
            
        1.4裁剪空间(Clip Space)
        
            在将坐标处理到观察空间之后，我们需要将其投影到裁剪坐标。裁剪坐标是处理-1.0到1.0范围内并判断哪些顶点将会出现在屏幕上。
            
        1.5屏幕空间(Screen Space)
        
            我们需要将裁剪坐标转换为屏幕坐标，我们将这一过程成为视口变换(Viewport Transform)。视口变换将位于-1.0到1.0范围的坐标转换到由glViewport函数所定义的坐标范围内。最后转换的坐标将会送到光栅器，由光栅器将其转化为片段
            
    为了将坐标从一个坐标系转换为另一个坐标系，我们需要用到几个转换矩阵，分别是模型(Model)、视图(View)、投影(Projection)三个矩阵。
    
    首先顶点坐标开始于局部空间，称为局部坐标，然后经过世界坐标，观察坐标，裁剪坐标，并最终成为屏幕坐标。

    局部空间坐标 -----（Model矩阵）-----世界空间坐标-----（View矩阵）-----观察空间坐标-----（Projection矩阵）-----裁剪空间坐标-----（Viewport Transform）-----屏幕坐标
 
 投影矩阵
 
     由投影矩阵创建的观察区域(Viewing Box)被称为平截头体(Frustum)，且每个出现在平截头体范围内的坐标都会最终出现在用户的屏幕上。将一定范围内的坐标转化到标准化设备坐标系的过程(而且它很容易被映射到2D观察空间坐标)被称之为投影(Projection)，因为使用投影矩阵能将3维坐标投影(Project)到很容易映射的2D标准化设备坐标系中
     
     一旦所有顶点被转换到裁剪空间，最终的操作——透视划分(Perspective Division)将会执行，在这个过程中我们将位置向量的x，y，z分量分别除以向量的齐次w分量；透视划分是将4维裁剪空间坐标转换为3维标准化设备坐标。这一步会在每一个顶点着色器运行的最后被自动执行。
     
     在这一阶段之后，坐标经过转换的结果将会被映射到屏幕空间(由glViewport设置)且被转换成片段。
     
     有两种不同的方式，每种方式分别定义自己的平截头体。我们可以创建一个正射投影矩阵(Orthographic Projection Matrix)或一个透视投影矩阵(Perspective Projection Matrix)。
     
     正射投影
     
         正射投影(Orthographic Projection)矩阵定义了一个类似立方体的平截头体，指定了一个裁剪空间，每一个在这空间外面的顶点都会被裁剪。
         创建正射投影需要指定可见平截头体的宽高长。
         
         创建一个正射投影，利用GLKKIt的构建函数：
         
              GLKMatrix4MakeOrtho(<#float left#>, <#float right#>, <#float bottom#>, <#float top#>, <#float nearZ#>, <#float farZ#>)
         
         两个参数指定了平截头体的左右坐标，第三和第四参数指定了平截头体的底部和上部。通过这四个参数我们定义了近平面和远平面的大小，然后第五和第六个参数则定义了近平面和远平面的距离

         单一使用正射投影矩阵将会产生不真实的结构，所以需要用到透视矩阵来解决这个问题。
         
     透视投影
     
         在实际生活中，离你越远的东西看起来更小，这个效果我们称之为透视
         利用
 
 
 
